const a9_0x589bf5=a9_0x1e19;function a9_0x1791(){const _0x328d18=['7488wUFMTm','232210nrtMxM','❌\x20Transaction\x20Failed:','1029948WNkZVa','Name1','✅\x20Upserted:\x20Kunnr=','688960ZKZveH','query','warn','Bzirk','⚠️\x20No\x20customer\x20data\x20to\x20insert\x20or\x20update.','Transaction','commit','Bztxt','6601196HBZSjw','🔍\x20Processing\x20Customer:','../config/db','Error\x20inserting/updating\x20data','error','246iNcWrt','1327556MctPIw','✅\x20All\x20customer\x20data\x20upserted\x20successfully.','length','340GwuecA','63285FwpXtj','Kunnr','log','Data\x20inserted/updated\x20successfully','9TdTJbU','request','Zone','6894haXjuN','❌\x20Failed\x20to\x20process\x20customer\x20','begin','input','VarChar','Vkorg'];a9_0x1791=function(){return _0x328d18;};return a9_0x1791();}(function(_0x3c37bf,_0xebd6f9){const _0x620c36=a9_0x1e19,_0x576d00=_0x3c37bf();while(!![]){try{const _0xe796cb=-parseInt(_0x620c36(0xad))/0x1+parseInt(_0x620c36(0xc1))/0x2*(parseInt(_0x620c36(0xb5))/0x3)+parseInt(_0x620c36(0xc4))/0x4+-parseInt(_0x620c36(0xb1))/0x5*(parseInt(_0x620c36(0xac))/0x6)+parseInt(_0x620c36(0xcc))/0x7+parseInt(_0x620c36(0xbe))/0x8*(parseInt(_0x620c36(0xb8))/0x9)+-parseInt(_0x620c36(0xb0))/0xa*(parseInt(_0x620c36(0xbf))/0xb);if(_0xe796cb===_0xebd6f9)break;else _0x576d00['push'](_0x576d00['shift']());}catch(_0x28d4b6){_0x576d00['push'](_0x576d00['shift']());}}}(a9_0x1791,0xc6785));const {sql,poolPromise}=require(a9_0x589bf5(0xce)),upsertCustomer=async _0x300886=>{const _0x89a174=a9_0x589bf5;if(!_0x300886||_0x300886[_0x89a174(0xaf)]===0x0)return console[_0x89a174(0xc6)](_0x89a174(0xc8)),{'success':![],'message':'No\x20data\x20provided\x20for\x20upsertion'};try{const _0x34a0da=await poolPromise,_0x1ede60=new sql[(_0x89a174(0xc9))](_0x34a0da);await _0x1ede60[_0x89a174(0xba)]();for(let _0x4c722c of _0x300886){try{console[_0x89a174(0xb3)](_0x89a174(0xcd),_0x4c722c[_0x89a174(0xb2)]),await _0x1ede60[_0x89a174(0xb6)]()[_0x89a174(0xbb)]('Kunnr',sql[_0x89a174(0xbc)],_0x4c722c[_0x89a174(0xb2)])['input'](_0x89a174(0xb7),sql[_0x89a174(0xbc)],_0x4c722c[_0x89a174(0xb7)])[_0x89a174(0xbb)](_0x89a174(0xbd),sql[_0x89a174(0xbc)],_0x4c722c['Vkorg'])[_0x89a174(0xbb)]('Bzirk',sql[_0x89a174(0xbc)],_0x4c722c[_0x89a174(0xc7)])[_0x89a174(0xbb)](_0x89a174(0xc2),sql[_0x89a174(0xbc)],_0x4c722c[_0x89a174(0xc2)])[_0x89a174(0xbb)](_0x89a174(0xcb),sql[_0x89a174(0xbc)],_0x4c722c[_0x89a174(0xcb)])[_0x89a174(0xc5)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20MERGE\x20INTO\x20PRD_Customer_Infor\x20AS\x20target\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20USING\x20(SELECT\x20@Kunnr\x20AS\x20Kunnr,\x20@Vkorg\x20AS\x20Vkorg)\x20AS\x20source\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20target.Kunnr\x20=\x20source.Kunnr\x20AND\x20target.Vkorg\x20=\x20source.Vkorg\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20MATCHED\x20THEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20SET\x20Zone\x20=\x20@Zone,\x20Bzirk\x20=\x20@Bzirk,\x20Name1\x20=\x20@Name1,\x20Bztxt\x20=\x20@Bztxt\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20NOT\x20MATCHED\x20THEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20(Kunnr,\x20Zone,\x20Vkorg,\x20Bzirk,\x20Name1,\x20Bztxt)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(@Kunnr,\x20@Zone,\x20@Vkorg,\x20@Bzirk,\x20@Name1,\x20@Bztxt);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),console['log'](_0x89a174(0xc3)+_0x4c722c[_0x89a174(0xb2)]);}catch(_0x5d43e1){console[_0x89a174(0xab)](_0x89a174(0xb9)+_0x4c722c['Kunnr']+':',_0x5d43e1['message']);}}return await _0x1ede60[_0x89a174(0xca)](),console[_0x89a174(0xb3)](_0x89a174(0xae)),{'success':!![],'message':_0x89a174(0xb4)};}catch(_0x48aeb6){return console['error'](_0x89a174(0xc0),_0x48aeb6),{'success':![],'message':_0x89a174(0xaa),'error':_0x48aeb6};}};function a9_0x1e19(_0x23b95d,_0x4aeff7){const _0x179175=a9_0x1791();return a9_0x1e19=function(_0x1e1957,_0xbafdaf){_0x1e1957=_0x1e1957-0xaa;let _0x65210f=_0x179175[_0x1e1957];return _0x65210f;},a9_0x1e19(_0x23b95d,_0x4aeff7);}module['exports']={'upsertCustomer':upsertCustomer};