const a10_0x3a6852=a10_0x1c87;(function(_0x34446b,_0x33ad50){const _0xb18e50=a10_0x1c87,_0x2d7479=_0x34446b();while(!![]){try{const _0x5b968e=-parseInt(_0xb18e50(0x140))/0x1*(parseInt(_0xb18e50(0x138))/0x2)+-parseInt(_0xb18e50(0x146))/0x3+parseInt(_0xb18e50(0x163))/0x4*(parseInt(_0xb18e50(0x156))/0x5)+-parseInt(_0xb18e50(0x164))/0x6*(-parseInt(_0xb18e50(0x154))/0x7)+-parseInt(_0xb18e50(0x134))/0x8*(parseInt(_0xb18e50(0x147))/0x9)+parseInt(_0xb18e50(0x137))/0xa*(-parseInt(_0xb18e50(0x167))/0xb)+parseInt(_0xb18e50(0x136))/0xc;if(_0x5b968e===_0x33ad50)break;else _0x2d7479['push'](_0x2d7479['shift']());}catch(_0x327e97){_0x2d7479['push'](_0x2d7479['shift']());}}}(a10_0x13d5,0x1bd2e));function a10_0x13d5(){const _0x1c8f98=['commit','Posnr','Bzirk','Kwmeng','Gjahr','Aubel','‚úÖ\x20Upserted:\x20Vbeln=','message','65396uhOCgU','96lzZmRK','Data\x20inserted/updated\x20successfully.','‚ùå\x20Transaction\x20failed:','22abPIWr','input','begin','170304Oenvvs','Vkorg','4213332RQxFJa','266890CHQfIV','104KdCnum','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20MERGE\x20INTO\x20PRD_LastMonthCarry\x20AS\x20target\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20USING\x20(SELECT\x20@Vbeln\x20AS\x20Vbeln,\x20@Posnr\x20AS\x20Posnr)\x20AS\x20source\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20target.Vbeln\x20=\x20source.Vbeln\x20AND\x20target.Posnr\x20=\x20source.Posnr\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20MATCHED\x20THEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20SET\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vtweg\x20=\x20@Vtweg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Spart\x20=\x20@Spart,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fkart\x20=\x20@Fkart,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fktyp\x20=\x20@Fktyp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vkorg\x20=\x20@Vkorg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Waerk\x20=\x20@Waerk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Gjahr\x20=\x20@Gjahr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Aubel\x20=\x20@Aubel,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Aupos\x20=\x20@Aupos,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Netwr\x20=\x20@Netwr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matnr\x20=\x20@Matnr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fkimg\x20=\x20@Fkimg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matkl\x20=\x20@Matkl,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kwmeng\x20=\x20@Kwmeng,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PendingQty\x20=\x20@PendingQty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20OdrVal\x20=\x20@OdrVal,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kunnr\x20=\x20@Kunnr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kursk\x20=\x20@Kursk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Bzirk\x20=\x20@Bzirk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Zone\x20=\x20@Zone\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20NOT\x20MATCHED\x20THEN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vbeln,\x20Posnr,\x20Vtweg,\x20Spart,\x20Fkart,\x20Fktyp,\x20Vkorg,\x20Waerk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Gjahr,\x20Aubel,\x20Aupos,\x20Netwr,\x20Matnr,\x20Fkimg,\x20Matkl,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kwmeng,\x20PendingQty,\x20OdrVal,\x20Kunnr,\x20Kursk,\x20Bzirk,\x20Zone\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@Vbeln,\x20@Posnr,\x20@Vtweg,\x20@Spart,\x20@Fkart,\x20@Fktyp,\x20@Vkorg,\x20@Waerk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@Gjahr,\x20@Aubel,\x20@Aupos,\x20@Netwr,\x20@Matnr,\x20@Fkimg,\x20@Matkl,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@Kwmeng,\x20@PendingQty,\x20@OdrVal,\x20@Kunnr,\x20@Kursk,\x20@Bzirk,\x20@Zone\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','OdrVal',',\x20Posnr=','Kunnr','Netwr','Zone','Fkimg','4319ZGAteA','Vbeln','Transaction','log','Matkl','No\x20data\x20provided\x20for\x20upsertion.','179721BlLKYx','72YrrkOa','Fkart','Aupos','Spart','Vtweg','Waerk','Decimal','‚úÖ\x20All\x20records\x20upserted\x20successfully.','Matnr','error','üîÑ\x20Processing\x20Last\x20Month\x20Carry:','length','VarChar','61355gQKNyj','../config/db','40SmNMto','‚ùå\x20Error\x20processing\x20','PendingQty','Kursk','request'];a10_0x13d5=function(){return _0x1c8f98;};return a10_0x13d5();}function a10_0x1c87(_0x2d2ca4,_0x55a857){const _0x13d5e3=a10_0x13d5();return a10_0x1c87=function(_0x1c87e0,_0x46c407){_0x1c87e0=_0x1c87e0-0x133;let _0x3fdde0=_0x13d5e3[_0x1c87e0];return _0x3fdde0;},a10_0x1c87(_0x2d2ca4,_0x55a857);}const {sql,poolPromise}=require(a10_0x3a6852(0x155)),parseDecimal=_0x2d14b7=>{if(!_0x2d14b7||isNaN(_0x2d14b7))return 0x0;return parseFloat(_0x2d14b7);},insertOrUpdateLastMonthCarry=async _0x35c195=>{const _0x302652=a10_0x3a6852;if(!_0x35c195||_0x35c195[_0x302652(0x152)]===0x0)return console['warn']('‚ö†Ô∏è\x20No\x20Last\x20Month\x20Carry\x20data\x20to\x20process.'),{'success':![],'message':_0x302652(0x145)};try{const _0x118fb8=await poolPromise,_0x1872f9=new sql[(_0x302652(0x142))](_0x118fb8);await _0x1872f9[_0x302652(0x133)]();for(const _0x135615 of _0x35c195){try{console[_0x302652(0x143)](_0x302652(0x151),_0x135615['Vbeln'],_0x135615['Posnr']),await _0x1872f9[_0x302652(0x15a)]()[_0x302652(0x168)](_0x302652(0x141),sql[_0x302652(0x153)],_0x135615['Vbeln'])['input'](_0x302652(0x15c),sql[_0x302652(0x153)],_0x135615[_0x302652(0x15c)])[_0x302652(0x168)](_0x302652(0x14b),sql[_0x302652(0x153)],_0x135615[_0x302652(0x14b)]||'')['input'](_0x302652(0x14a),sql['VarChar'],_0x135615[_0x302652(0x14a)]||'')[_0x302652(0x168)](_0x302652(0x148),sql['VarChar'],_0x135615[_0x302652(0x148)]||'')['input']('Fktyp',sql[_0x302652(0x153)],_0x135615['Fktyp']||'')[_0x302652(0x168)]('Vkorg',sql[_0x302652(0x153)],_0x135615[_0x302652(0x135)]||'')[_0x302652(0x168)]('Waerk',sql[_0x302652(0x153)],_0x135615[_0x302652(0x14c)]||'')[_0x302652(0x168)](_0x302652(0x15f),sql['Int'],parseInt(_0x135615[_0x302652(0x15f)])||null)[_0x302652(0x168)]('Aubel',sql[_0x302652(0x153)],_0x135615[_0x302652(0x160)]||'')[_0x302652(0x168)](_0x302652(0x149),sql[_0x302652(0x153)],_0x135615[_0x302652(0x149)]||'')[_0x302652(0x168)](_0x302652(0x13d),sql[_0x302652(0x14d)](0x12,0x2),parseDecimal(_0x135615[_0x302652(0x13d)]))[_0x302652(0x168)](_0x302652(0x14f),sql[_0x302652(0x153)],_0x135615[_0x302652(0x14f)]||'')[_0x302652(0x168)](_0x302652(0x13f),sql[_0x302652(0x14d)](0x12,0x3),parseDecimal(_0x135615['Fkimg']))['input']('Matkl',sql[_0x302652(0x153)],_0x135615[_0x302652(0x144)]||'')['input']('Kwmeng',sql[_0x302652(0x14d)](0x12,0x3),parseDecimal(_0x135615[_0x302652(0x15e)]))[_0x302652(0x168)](_0x302652(0x158),sql['Decimal'](0x12,0x3),parseDecimal(_0x135615[_0x302652(0x158)]))[_0x302652(0x168)](_0x302652(0x13a),sql[_0x302652(0x14d)](0x12,0x2),parseDecimal(_0x135615[_0x302652(0x13a)]))['input']('Kunnr',sql[_0x302652(0x153)],_0x135615[_0x302652(0x13c)]||'')[_0x302652(0x168)]('Kursk',sql['Decimal'](0x12,0x5),parseDecimal(_0x135615[_0x302652(0x159)]))[_0x302652(0x168)](_0x302652(0x15d),sql[_0x302652(0x153)],_0x135615['Bzirk']||'')[_0x302652(0x168)](_0x302652(0x13e),sql[_0x302652(0x153)],_0x135615['Zone']||'')['query'](_0x302652(0x139)),console[_0x302652(0x143)](_0x302652(0x161)+_0x135615['Vbeln']+_0x302652(0x13b)+_0x135615['Posnr']);}catch(_0x522acc){console[_0x302652(0x150)](_0x302652(0x157)+_0x135615[_0x302652(0x141)]+'-'+_0x135615[_0x302652(0x15c)]+':',_0x522acc[_0x302652(0x162)]);}}return await _0x1872f9[_0x302652(0x15b)](),console[_0x302652(0x143)](_0x302652(0x14e)),{'success':!![],'message':_0x302652(0x165)};}catch(_0x4b74f3){return console[_0x302652(0x150)](_0x302652(0x166),_0x4b74f3),{'success':![],'message':'Error\x20inserting/updating\x20data','error':_0x4b74f3};}};module['exports']={'insertOrUpdateLastMonthCarry':insertOrUpdateLastMonthCarry};