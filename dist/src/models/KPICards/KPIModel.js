const a11_0x1ec530=a11_0xb03c;(function(_0x46180e,_0x18b4e6){const _0x54210f=a11_0xb03c,_0x5d8411=_0x46180e();while(!![]){try{const _0x3a4044=parseInt(_0x54210f(0x124))/0x1+parseInt(_0x54210f(0x125))/0x2*(parseInt(_0x54210f(0x136))/0x3)+parseInt(_0x54210f(0x12a))/0x4*(-parseInt(_0x54210f(0x138))/0x5)+parseInt(_0x54210f(0x12d))/0x6+-parseInt(_0x54210f(0x137))/0x7+-parseInt(_0x54210f(0x12c))/0x8*(parseInt(_0x54210f(0x12e))/0x9)+parseInt(_0x54210f(0x134))/0xa;if(_0x3a4044===_0x18b4e6)break;else _0x5d8411['push'](_0x5d8411['shift']());}catch(_0x9fbd66){_0x5d8411['push'](_0x5d8411['shift']());}}}(a11_0x2082,0x3e64e));const {sql,poolPromise}=require(a11_0x1ec530(0x139));class KPIModel{static async['getKPIs'](_0x3b2b51){const _0x2dedbc=a11_0x1ec530,{zone:_0x321b94,month:_0x1538ad,year:_0x28dcc3}=_0x3b2b51,_0x4f8d2a=[];if(_0x321b94&&_0x321b94!==_0x2dedbc(0x130))_0x4f8d2a[_0x2dedbc(0x132)]('Zone\x20=\x20\x27'+_0x321b94+'\x27');if(_0x1538ad&&_0x1538ad!==_0x2dedbc(0x130))_0x4f8d2a[_0x2dedbc(0x132)](_0x2dedbc(0x123)+_0x1538ad+'\x27');if(_0x28dcc3&&_0x28dcc3!=='All')_0x4f8d2a[_0x2dedbc(0x132)]('Year\x20=\x20\x27'+_0x28dcc3+'\x27');const _0x20e0ff=_0x4f8d2a['length']?'WHERE\x20'+_0x4f8d2a[_0x2dedbc(0x12b)](_0x2dedbc(0x128)):'';try{const _0x4f83b3=await poolPromise,_0x392c14='\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(TotalInvoice)\x20FROM\x20PRD_Target_Values\x20'+_0x20e0ff+_0x2dedbc(0x127)+_0x20e0ff+')\x20AS\x20PlannedOrder,\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(Netwr)\x20FROM\x20PRD_SalesOrder\x20'+_0x20e0ff+_0x2dedbc(0x133)+_0x20e0ff+_0x2dedbc(0x13b)+_0x20e0ff+')\x20/100000.0\x20AS\x20ActualInvoice,\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20((SELECT\x20SUM(Netwr)\x20FROM\x20PRD_SalesInvoice\x20'+_0x20e0ff+_0x2dedbc(0x129)+_0x20e0ff+_0x2dedbc(0x133)+_0x20e0ff+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20/100000.0)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20AS\x20Execution,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20((\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(Netwr)\x20FROM\x20PRD_SalesOrder\x20'+_0x20e0ff+_0x2dedbc(0x133)+_0x20e0ff+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20/100000.0)\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(PlannedOrder)\x20FROM\x20PRD_Target_Values\x20'+_0x20e0ff+')\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20AS\x20OrderAchievement\x0a\x20\x20\x20\x20\x20\x20',_0x4af029=await _0x4f83b3[_0x2dedbc(0x135)]()[_0x2dedbc(0x13a)](_0x392c14);return{'success':!![],'data':_0x4af029[_0x2dedbc(0x12f)][0x0]};}catch(_0x5bb723){return console['error'](_0x2dedbc(0x131),_0x5bb723),{'success':![],'message':_0x2dedbc(0x126),'error':_0x5bb723};}}}function a11_0xb03c(_0x26fa4f,_0x1c9e96){const _0x208287=a11_0x2082();return a11_0xb03c=function(_0xb03cdc,_0x298c75){_0xb03cdc=_0xb03cdc-0x123;let _0x2c4d20=_0x208287[_0xb03cdc];return _0x2c4d20;},a11_0xb03c(_0x26fa4f,_0x1c9e96);}function a11_0x2082(){const _0x371b03=['68XLipIU','join','2935072AFJtyR','676212UyttBT','9NrfZzR','recordset','All','‚ùå\x20Error\x20fetching\x20KPI\x20data\x20in\x20model:','push',')\x20+\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(OdrVal)\x20FROM\x20PRD_LastMonthCarry\x20','7156250DeoHQG','request','207501kdLCNv','1022917WjplDn','108245ylLcXL','../../config/db','query',')\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20)\x20/100000.0\x20AS\x20ActualOrder,\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(Netwr)\x20FROM\x20PRD_SalesInvoice\x20','Month\x20=\x20\x27','239120gbtoqr','2pcLAQb','Failed\x20to\x20fetch\x20KPIs',')\x20AS\x20TotalBudget,\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(PlannedOrder)\x20FROM\x20PRD_Target_Values\x20','\x20AND\x20',')\x20/100000.0)\x20/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20((\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20(SELECT\x20SUM(Netwr)\x20FROM\x20PRD_SalesOrder\x20'];a11_0x2082=function(){return _0x371b03;};return a11_0x2082();}module['exports']=KPIModel;