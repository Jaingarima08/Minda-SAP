function a12_0x594b(_0x4d58e4,_0x5ac18a){const _0x727e9a=a12_0x727e();return a12_0x594b=function(_0x594b8f,_0x359920){_0x594b8f=_0x594b8f-0x96;let _0x759939=_0x727e9a[_0x594b8f];return _0x759939;},a12_0x594b(_0x4d58e4,_0x5ac18a);}function a12_0x727e(){const _0x1af995=['Spart','Matkl','PlannedOrder','8058968zzSIyR','No\x20data\x20provided\x20for\x20upsertion','Bzirk','Werks','üîç\x20Processing\x20Invoice:','97896jPEjHN','Kunag','Vkorg','input','Waerk','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20MERGE\x20INTO\x20PRD_SalesInvoice\x20AS\x20target\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20USING\x20(SELECT\x20@Vbeln\x20AS\x20Vbeln,\x20@Posnr\x20AS\x20Posnr)\x20AS\x20source\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ON\x20target.Vbeln\x20=\x20source.Vbeln\x20AND\x20target.Posnr\x20=\x20source.Posnr\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20MATCHED\x20THEN\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20SET\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matnr\x20=\x20@Matnr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PlannedOrder\x20=\x20@PlannedOrder,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Wgbez\x20=\x20@Wgbez,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Bzirk\x20=\x20@Bzirk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Netwr\x20=\x20@Netwr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vtweg\x20=\x20@Vtweg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Matkl\x20=\x20@Matkl,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20TotalInvoice\x20=\x20@TotalInvoice,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Spart\x20=\x20@Spart,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Zone\x20=\x20@Zone,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fkart\x20=\x20@Fkart,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kunag\x20=\x20@Kunag,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fktyp\x20=\x20@Fktyp,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Aupos\x20=\x20@Aupos,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Werks\x20=\x20@Werks,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Vkorg\x20=\x20@Vkorg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Waerk\x20=\x20@Waerk,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Gjahr\x20=\x20@Gjahr,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Fkdat\x20=\x20@Fkdat,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Aubel\x20=\x20@Aubel\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WHEN\x20NOT\x20MATCHED\x20THEN\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20(Vbeln,\x20Posnr,\x20Matnr,\x20PlannedOrder,\x20Wgbez,\x20Bzirk,\x20Netwr,\x20Vtweg,\x20Matkl,\x20TotalInvoice,\x20Spart,\x20Zone,\x20Fkart,\x20Kunag,\x20Fktyp,\x20Aupos,\x20Werks,\x20Vkorg,\x20Waerk,\x20Gjahr,\x20Fkdat,\x20Aubel)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20(@Vbeln,\x20@Posnr,\x20@Matnr,\x20@PlannedOrder,\x20@Wgbez,\x20@Bzirk,\x20@Netwr,\x20@Vtweg,\x20@Matkl,\x20@TotalInvoice,\x20@Spart,\x20@Zone,\x20@Fkart,\x20@Kunag,\x20@Fktyp,\x20@Aupos,\x20@Werks,\x20@Vkorg,\x20@Waerk,\x20@Gjahr,\x20@Fkdat,\x20@Aubel);\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Transaction','../config/db','3088455qVhArQ','Totalinvoice','match','Vtweg','Aupos','456929pxjZUt','‚úÖ\x20Upserted:\x20Vbeln=','VarChar','28JLIejg','‚úÖ\x20All\x20sales\x20invoices\x20upserted\x20successfully.','commit','begin','Vbeln','9hZlWnY','7881350bjaowo','Gjahr','124158ypulDA','Netwr','log','Data\x20inserted/updated\x20successfully','‚ö†Ô∏è\x20No\x20sales\x20invoice\x20data\x20to\x20insert\x20or\x20update.','warn','message','Zone','231rzoqqN','Fkdat','Int','Matnr','DateTime','Fkart','replace','3683938GwLFOg','Decimal','Posnr','error','Wgbez','exports','Aubel'];a12_0x727e=function(){return _0x1af995;};return a12_0x727e();}const a12_0x56ee8e=a12_0x594b;(function(_0x553040,_0x44ba19){const _0x47b8e8=a12_0x594b,_0x3a986a=_0x553040();while(!![]){try{const _0x129b5a=parseInt(_0x47b8e8(0xb3))/0x1+parseInt(_0x47b8e8(0x97))/0x2+-parseInt(_0x47b8e8(0xa6))/0x3*(parseInt(_0x47b8e8(0xb6))/0x4)+-parseInt(_0x47b8e8(0xae))/0x5+-parseInt(_0x47b8e8(0xbe))/0x6*(parseInt(_0x47b8e8(0xc6))/0x7)+parseInt(_0x47b8e8(0xa1))/0x8*(parseInt(_0x47b8e8(0xbb))/0x9)+-parseInt(_0x47b8e8(0xbc))/0xa;if(_0x129b5a===_0x44ba19)break;else _0x3a986a['push'](_0x3a986a['shift']());}catch(_0x427a23){_0x3a986a['push'](_0x3a986a['shift']());}}}(a12_0x727e,0xf17de));const {sql,poolPromise}=require(a12_0x56ee8e(0xad)),convertSAPDateTime=_0x537fff=>{const _0x5d56c0=a12_0x56ee8e;if(!_0x537fff||!_0x537fff[_0x5d56c0(0xb0)](/\d+/))return new Date('1900-01-01T00:00:00');const _0x58d19b=parseInt(_0x537fff[_0x5d56c0(0xb0)](/\d+/)[0x0],0xa);return new Date(_0x58d19b);},convertToDecimal=_0x1dcf2d=>{const _0x3ca467=a12_0x56ee8e;if(!_0x1dcf2d||isNaN(_0x1dcf2d))return 0x0;return parseFloat(_0x1dcf2d['toString']()[_0x3ca467(0x96)](',','.'));},insertOrUpdateSalesInvoices=async _0x47d25e=>{const _0xd1a82e=a12_0x56ee8e;if(!_0x47d25e||_0x47d25e['length']===0x0)return console[_0xd1a82e(0xc3)](_0xd1a82e(0xc2)),{'success':![],'message':_0xd1a82e(0xa2)};try{const _0x322161=await poolPromise,_0x4c9e56=new sql[(_0xd1a82e(0xac))](_0x322161);await _0x4c9e56[_0xd1a82e(0xb9)]();for(let _0x9cb43b of _0x47d25e){try{console[_0xd1a82e(0xc0)](_0xd1a82e(0xa5),_0x9cb43b['Vbeln'],_0x9cb43b[_0xd1a82e(0x99)]),await _0x4c9e56['request']()[_0xd1a82e(0xa9)](_0xd1a82e(0xba),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0xba)])[_0xd1a82e(0xa9)](_0xd1a82e(0x99),sql['VarChar'],_0x9cb43b['Posnr'])[_0xd1a82e(0xa9)](_0xd1a82e(0xc9),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0xc9)])[_0xd1a82e(0xa9)](_0xd1a82e(0xa0),sql[_0xd1a82e(0x98)](0x12,0x3),parseFloat(_0x9cb43b['PlannedOrder'])||0x0)[_0xd1a82e(0xa9)](_0xd1a82e(0x9b),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0x9b)])['input'](_0xd1a82e(0xa3),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0xa3)])['input'](_0xd1a82e(0xbf),sql[_0xd1a82e(0x98)](0x12,0x2),parseFloat(_0x9cb43b[_0xd1a82e(0xbf)])||0x0)[_0xd1a82e(0xa9)](_0xd1a82e(0xb1),sql['VarChar'],_0x9cb43b[_0xd1a82e(0xb1)])[_0xd1a82e(0xa9)](_0xd1a82e(0x9f),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0x9f)])[_0xd1a82e(0xa9)](_0xd1a82e(0xaf),sql[_0xd1a82e(0x98)](0x12,0x3),parseFloat(_0x9cb43b[_0xd1a82e(0xaf)])||0x0)[_0xd1a82e(0xa9)](_0xd1a82e(0x9e),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0x9e)])[_0xd1a82e(0xa9)](_0xd1a82e(0xc5),sql['VarChar'],_0x9cb43b['Zone'])[_0xd1a82e(0xa9)]('Fkart',sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0xcb)])[_0xd1a82e(0xa9)](_0xd1a82e(0xa7),sql[_0xd1a82e(0xb5)],_0x9cb43b['Kunag'])['input']('Fktyp',sql[_0xd1a82e(0xb5)],_0x9cb43b['Fktyp'])[_0xd1a82e(0xa9)](_0xd1a82e(0xb2),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0xb2)])[_0xd1a82e(0xa9)](_0xd1a82e(0xa4),sql[_0xd1a82e(0xb5)],_0x9cb43b['Werks'])['input']('Vkorg',sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0xa8)])[_0xd1a82e(0xa9)](_0xd1a82e(0xaa),sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0xaa)])['input'](_0xd1a82e(0xbd),sql[_0xd1a82e(0xc8)],parseInt(_0x9cb43b[_0xd1a82e(0xbd)])||null)[_0xd1a82e(0xa9)](_0xd1a82e(0xc7),sql[_0xd1a82e(0xca)],_0x9cb43b[_0xd1a82e(0xc7)])[_0xd1a82e(0xa9)]('Aubel',sql[_0xd1a82e(0xb5)],_0x9cb43b[_0xd1a82e(0x9d)])['query'](_0xd1a82e(0xab)),console[_0xd1a82e(0xc0)](_0xd1a82e(0xb4)+_0x9cb43b['Vbeln']+',\x20Posnr='+_0x9cb43b['Posnr']);}catch(_0x2b38ce){console[_0xd1a82e(0x9a)]('‚ùå\x20Failed\x20to\x20process\x20invoice\x20'+_0x9cb43b[_0xd1a82e(0xba)]+'-'+_0x9cb43b[_0xd1a82e(0x99)]+':',_0x2b38ce[_0xd1a82e(0xc4)]);}}return await _0x4c9e56[_0xd1a82e(0xb8)](),console[_0xd1a82e(0xc0)](_0xd1a82e(0xb7)),{'success':!![],'message':_0xd1a82e(0xc1)};}catch(_0x47a852){return console['error']('‚ùå\x20Transaction\x20Failed:',_0x47a852),{'success':![],'message':'Error\x20inserting/updating\x20data','error':_0x47a852};}};module[a12_0x56ee8e(0x9c)]={'insertOrUpdateSalesInvoices':insertOrUpdateSalesInvoices};