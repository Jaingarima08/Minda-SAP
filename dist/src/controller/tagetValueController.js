function a7_0x1777(_0x487247,_0x5072fb){const _0x572720=a7_0x5727();return a7_0x1777=function(_0x177750,_0x15afe7){_0x177750=_0x177750-0x14e;let _0x496337=_0x572720[_0x177750];return _0x496337;},a7_0x1777(_0x487247,_0x5072fb);}const a7_0x5bf5a8=a7_0x1777;(function(_0x112d06,_0x4aacea){const _0x42e593=a7_0x1777,_0x1442ed=_0x112d06();while(!![]){try{const _0x3f9238=parseInt(_0x42e593(0x16c))/0x1+-parseInt(_0x42e593(0x18c))/0x2+-parseInt(_0x42e593(0x151))/0x3*(parseInt(_0x42e593(0x153))/0x4)+-parseInt(_0x42e593(0x15b))/0x5*(parseInt(_0x42e593(0x17d))/0x6)+parseInt(_0x42e593(0x185))/0x7*(-parseInt(_0x42e593(0x152))/0x8)+parseInt(_0x42e593(0x157))/0x9+parseInt(_0x42e593(0x161))/0xa;if(_0x3f9238===_0x4aacea)break;else _0x1442ed['push'](_0x1442ed['shift']());}catch(_0x3979dc){_0x1442ed['push'](_0x1442ed['shift']());}}}(a7_0x5727,0xe4057));const axios=require(a7_0x5bf5a8(0x155)),SalesModel=require(a7_0x5bf5a8(0x189));require(a7_0x5bf5a8(0x172))['config']();const API_URL=process['env'][a7_0x5bf5a8(0x180)],convertToDecimal=_0x3e061b=>{const _0xfa2448=a7_0x5bf5a8;if(!_0x3e061b||isNaN(_0x3e061b))return _0xfa2448(0x17b);return parseFloat(_0x3e061b[_0xfa2448(0x15d)]()[_0xfa2448(0x176)](',','.'))['toFixed'](0x2);},fetchSAPSalesData=async()=>{const _0x7abe75=a7_0x5bf5a8;try{console[_0x7abe75(0x182)](_0x7abe75(0x16e),API_URL);const _0x290aae=await axios['get'](API_URL,{'auth':{'username':process['env'][_0x7abe75(0x18a)],'password':process[_0x7abe75(0x16f)]['SAP_PASSWORD']},'headers':{'Accept':_0x7abe75(0x163)}});if(!_0x290aae[_0x7abe75(0x17c)]){console[_0x7abe75(0x187)]('‚ö†Ô∏è\x20Received\x20empty\x20response\x20from\x20API');throw new Error(_0x7abe75(0x181));}console[_0x7abe75(0x182)]('‚úÖ\x20API\x20Response\x20Received.Length:',JSON['stringify'](_0x290aae[_0x7abe75(0x17c)])[_0x7abe75(0x167)]),console[_0x7abe75(0x182)](_0x7abe75(0x159),JSON[_0x7abe75(0x17f)](_0x290aae[_0x7abe75(0x17c)],null,0x2));const _0x5d0b17=_0x290aae[_0x7abe75(0x17c)]?.['d']?.[_0x7abe75(0x16a)];if(!Array[_0x7abe75(0x18d)](_0x5d0b17)){console[_0x7abe75(0x183)]('‚ùå\x20Invalid\x20API\x20Response\x20Format:',JSON[_0x7abe75(0x17f)](_0x290aae[_0x7abe75(0x17c)])[_0x7abe75(0x156)](0x0,0xc8)+'...');throw new Error(_0x7abe75(0x175));}return console[_0x7abe75(0x182)](_0x7abe75(0x16b)+_0x5d0b17['length']+'\x20sales\x20data\x20entries'),_0x5d0b17;}catch(_0x34ecb5){console[_0x7abe75(0x183)](_0x7abe75(0x169),_0x34ecb5[_0x7abe75(0x18b)]);throw new Error(_0x7abe75(0x184)+_0x34ecb5[_0x7abe75(0x18b)]);}},fetchAndInsertSalesData=async(_0x4cee0a,_0x4127ac)=>{const _0x8b7671=a7_0x5bf5a8;try{console[_0x8b7671(0x182)](_0x8b7671(0x154));const _0x140b5f=await fetchSAPSalesData();if(!Array[_0x8b7671(0x18d)](_0x140b5f)||_0x140b5f[_0x8b7671(0x167)]===0x0){console['warn'](_0x8b7671(0x17e));if(_0x4127ac)return _0x4127ac[_0x8b7671(0x160)](0x190)['json']({'message':_0x8b7671(0x171)});return;}console['log'](_0x8b7671(0x170)+_0x140b5f[_0x8b7671(0x167)]+_0x8b7671(0x179));const _0x48fd45=_0x140b5f['map']((_0x55fa25,_0x5b89ec)=>{const _0x54a368=_0x8b7671;if(!_0x55fa25||typeof _0x55fa25!==_0x54a368(0x158))return console[_0x54a368(0x183)]('‚ùå\x20Skipping\x20invalid\x20entry\x20at\x20index\x20'+_0x5b89ec+':',_0x55fa25),null;return{'Gjahr':String(_0x55fa25?.[_0x54a368(0x15c)]||''),'MonthD':String(_0x55fa25?.[_0x54a368(0x15a)]||''),'Bzirk':String(_0x55fa25?.[_0x54a368(0x168)]||''),'Matkl':String(_0x55fa25?.[_0x54a368(0x15f)]||''),'Spart':String(_0x55fa25?.[_0x54a368(0x165)]||''),'Zone':String(_0x55fa25?.['Zone']||''),'Bztxt':String(_0x55fa25?.['Bztxt']||''),'Wgbez':String(_0x55fa25?.['Wgbez']||''),'PlannedOrder':convertToDecimal(_0x55fa25?.['PlannedOrder']),'TotalInvoice':convertToDecimal(_0x55fa25?.[_0x54a368(0x15e)])};})[_0x8b7671(0x162)](Boolean);console['log']('üìå\x20Final\x20Data\x20Before\x20Processing:',JSON[_0x8b7671(0x17f)](_0x48fd45,null,0x2));const _0x4a8641=await SalesModel[_0x8b7671(0x14e)](_0x48fd45);if(!_0x4a8641||typeof _0x4a8641!=='object'||!_0x4a8641[_0x8b7671(0x14f)]){console[_0x8b7671(0x183)](_0x8b7671(0x178),_0x4a8641?.['error']||_0x8b7671(0x150));if(_0x4127ac)return _0x4127ac[_0x8b7671(0x160)](0x1f4)[_0x8b7671(0x164)]({'message':_0x8b7671(0x166),'error':_0x4a8641?.[_0x8b7671(0x183)]||_0x8b7671(0x174)});return;}console[_0x8b7671(0x182)](_0x8b7671(0x16d));if(_0x4127ac)return _0x4127ac['status'](0xc8)['json']({'message':_0x8b7671(0x177),'insertedRows':_0x4a8641['processedRows'][_0x8b7671(0x167)],'updatedRows':_0x4a8641[_0x8b7671(0x18e)][_0x8b7671(0x167)],'failedRows':_0x4a8641[_0x8b7671(0x186)][_0x8b7671(0x167)],'errors':_0x4a8641[_0x8b7671(0x186)]});}catch(_0x7c2315){console['error'](_0x8b7671(0x17a),_0x7c2315[_0x8b7671(0x18b)]);if(_0x4127ac)return _0x4127ac['status'](0x1f4)[_0x8b7671(0x164)]({'message':_0x8b7671(0x173),'error':_0x7c2315['message']});}};module[a7_0x5bf5a8(0x188)]={'fetchAndInsertSalesData':fetchAndInsertSalesData};function a7_0x5727(){const _0x16c955=['isArray','processedRows','insertOrUpdateSalesData','success','Unexpected\x20database\x20response','117nnBmTv','2144cOIGyx','152996rJboRR','üöÄ\x20Starting\x20Sales\x20Data\x20Sync...','axios','slice','12938814ECYCTs','object','üìå\x20API\x20Response\x20Data:','MonthD','7915zMGJsu','Gjahr','toString','TotalInvoice','Matkl','status','45645900CZDmne','filter','application/json','json','Spart','Error\x20inserting\x20or\x20updating\x20sales\x20data','length','Bzirk','‚ùå\x20Error\x20fetching\x20SAP\x20sales\x20data:','results','üì¶\x20Received\x20','136496hHylYi','‚úÖ\x20Sales\x20Data\x20Sync\x20Completed\x20Successfully','üîç\x20Fetching\x20Sales\x20Data\x20from\x20API:','env','üì¶\x20Processing\x20','No\x20sales\x20data\x20found\x20in\x20SAP','dotenv','Internal\x20Server\x20Error','Database\x20error','Invalid\x20data\x20format\x20received\x20from\x20SAP','replace','‚úÖ\x20Sales\x20data\x20synced\x20successfully','‚ùå\x20Error\x20inserting\x20or\x20updating\x20sales\x20data:','\x20sales\x20data\x20entries...','‚ùå\x20Error\x20syncing\x20sales\x20data:','0.00','data','4008eMUdUx','‚ö†Ô∏è\x20No\x20valid\x20sales\x20data\x20received.','stringify','Taget_Value_API','Empty\x20response\x20from\x20API','log','error','SAP\x20API\x20Error:\x20','34741vpnekg','failedRows','warn','exports','../models/tagetValueModel','SAP_USERNAME','message','2651036MpepJF'];a7_0x5727=function(){return _0x16c955;};return a7_0x5727();}